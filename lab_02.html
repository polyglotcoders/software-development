<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Lab 2 - Software Development</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 viewport-fit=cover"">
    <meta name="description" content="A guided tour thatintroduces students to building web applications">
    <meta name="theme-color" content="#0000ff">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" media="screen" href="reset.css">
    <link rel="stylesheet" media="screen" href="screen.css">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1142510-7']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <script type="text/javascript" src="UI.js"></script>
  </head>

  <body data-lab-id="2">
    <a href="#content" tabindex="1" class="skip-to-content">
      Skip to content
    </a>

    <div class="layout">
      <div id="index">
        <p class="link-home">
          <a href="index.html"><span>Software Development</span></a>
        </p>
        <button class="link-menu">Menu</button>
        <nav tabindex="0">
          <ol>
              <li id="lab_1_link"><a href="lab_01.html">Client-Server Model</a></li>
  <li id="lab_2_link"><a href="lab_02.html">API</a></li>
  <li id="lab_3_link"><a href="lab_03.html">Homework Assignment 04</a></li>

          </ol>
        </nav>
      </div>

      <div id="content" tabindex="-1">
        <h1 class="lab_title"><em>lab 2</em>  <span class="caps">API</span></h1>
<h2>Goals</h2>
<ul>
	<li>To understand what an <span class="caps">API</span> is</li>
	<li>Make <span class="caps">API</span> calls from the console</li>
	<li>Make <span class="caps">API</span> calls from python code</li>
</ul>
<h2>What is an <span class="caps">API</span>?</h2>
<p>An <span class="caps">API</span> is a software-to-software interface. Recall in class us talking about computers fetching information or data from another computer. In our case we might fetch the latest Tweets from Twitter&#8217;s <span class="caps">API</span>, or the latest posts in Reddit&#8217;s <span class="caps">API</span>.</p>
<h2>What is an endpoint?</h2>
<p>Just an <span class="caps">HTML</span> address that gives you access to data</p>
<p>Let&#8217;s install Postman <a href=":https://www.getpostman.com/">https://www.getpostman.com/</a>!</p>
<p>Now let&#8217;s first take a look at reddit&#8217;s <span class="caps">API</span> for a particular subreddit.</p>
<p>Go to <a href="https://www.reddit.com/r/ubc.json">https://www.reddit.com/r/ubc.json</a>. You&#8217;ll see that this gives us data for that particular subreddit. Now let&#8217;s use postman to fetch it.</p>
<h2>So what&#8217;s the point of all of this?</h2>
<p>Well, you&#8217;ll be running your sentiment analyzer on all the posts of a particular subreddit of your choice by fetching data for that subreddit. We&#8217;ll first be hardcoding it to return values, then we&#8217;ll start doing javascript to take in inputs</p>
<h2>So how do I make a request to fetch information?</h2>
<p>Let&#8217;s say we wanted to play around with <a href="https://github.com/HackerNews/API"> hacker news&#8217; <span class="caps">API</span> </a></p>
<p>Let&#8217;s get the top 10 story ids on Hacker News&#8217; <span class="caps">API</span></p>
<h3 class="file-heading"><em>request_json_ubc.py</em></h3>
<pre class="file">import requests

# Get top story ids on hacker news
response = requests.get('https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty')
print(response.json())
</pre>
<h3><b>Execute:</b></h3>
<pre class="instructions">python3 request_json_ubc.py</pre>
<h3><b>Output:</b></h3>
<pre class="sample">
<div class="sample_command">$ python3 request_json_ubc.py</div>
<p>[18990469, 18992698, 18992930, 18989922, 18991404, 18989207, 18992914, 18991086, 18990444, 18992088, 18991808, 18988117, 18991315, 18987320, 18992851, 18991688, 18991149, 18987642, 18989744, 18992321, 18988014, 18989430, 18989462, 18973379, 18988112, 18988226, 18973008, 18991275, 18990970, 18989851, 18977655, 18987211, 18990581, 18987981, 18992981, 18977936, 18988420, 18989964, 18990846, 18988320, 18988449, 18987102, 18987996, 18987617, 18980191, 18987885, 18985913, 18988774, 18985974, 18977478, 18972892, 18991359, 18968904, 18991559, 18989577, 18988023, 18988000, 18986544, 18980954, 18987518, 18983072, 18989501, 18985017, 18987015, 18986417, 18986824, 18978251, 18976150, 18968505, 18988990, 18986968, 18979596, 18988289, 18981806, 18975279, 18991374, 18988471, 18989040, 18987548, 18972516, 18976091, 18984332, 18984974, 18984098, 18989436, 18983040, 18974530, 18976444, 18986835, 18978146, 18977525, 18988543, 18983586, 18984946, 18987283, 18980476, 18982013, 18984764, 18984070, 18985449, 18979541, 18978764, 18984315, 18976654, 18980638, 18990263, 18981175, 18987985, 18989664, 18985760, 18983709, 18983959, 18983036, 18986537, 18983625, 18990373, 18990365, 18988994, 18978446, 18980861, 18981570, 18978661, 18984691, 18977721, 18968094, 18982831, 18986372, 18990041, 18973753, 18987343, 18968101, 18990775, 18970112, 18987701, 18971823, 18987098, 18978457, 18981209, 18978286, 18978958, 18978056, 18989078, 18968116, 18992781, 18985012, 18975373, 18975080, 18979452, 18977365, 18974930, 18985942, 18976173, 18979889, 18980731, 18981466, 18973259, 18981492, 18977461, 18974499, 18985849, 18988678, 18985100, 18989944, 18972861, 18978937, 18986767, 18973587, 18989834, 18984677, 18975026, 18980737, 18984631, 18984853, 18984237, 18978515, 18968125, 18986306, 18971044, 18981892, 18980652, 18979106, 18983239, 18989433, 18969160, 18975189, 18969466, 18989380, 18983661, 18972605, 18975237, 18989263, 18978485, 18968362, 18989132, 18977460, 18979836, 18978675, 18989017, 18969264, 18972512, 18970526, 18985632, 18981616, 18974283, 18986066, 18979066, 18984054, 18984530, 18976126, 18988580, 18973306, 18973477, 18983783, 18968327, 18971506, 18968370, 18974821, 18986828, 18976440, 18986456, 18987577, 18969963, 18978721, 18983297, 18969124, 18973314, 18976963, 18980713, 18968035, 18979910, 18977600, 18981164, 18982940, 18986005, 18987786, 18975270, 18978608, 18978528, 18968729, 18986865, 18973925, 18977868, 18980885, 18987991, 18985570, 18989902, 18980490, 18986070, 18976075, 18983204, 18984095, 18975664, 18975891, 18980041, 18969928, 18986399, 18987086, 18973504, 18969367, 18973717, 18968940, 18968139, 18982027, 18974233, 18967960, 18985281, 18972903, 18977659, 18975041, 18985967, 18977549, 18973687, 18975398, 18978313, 18968817, 18983286, 18976409, 18968684, 18975342, 18982892, 18976393, 18985382, 18982353, 18980578, 18986239, 18983927, 18969615, 18971124, 18976121, 18983164, 18975224, 18980995, 18971606, 18969372, 18974368, 18984021, 18980470, 18982454, 18978458, 18976810, 18972242, 18985637, 18983637, 18978825, 18971757, 18983158, 18973985, 18980763, 18980196, 18973656, 18968042, 18973119, 18969875, 18971452, 18977444, 18985936, 18978720, 18977925, 18981084, 18980853, 18970546, 18977744, 18984026, 18971758, 18976474, 18987987, 18970749, 18968837, 18974875, 18978384, 18968087, 18967951, 18975436, 18981411, 18975797, 18971933, 18971916, 18982030, 18981585, 18975640, 18974323, 18981225, 18981147, 18969276, 18975155, 18980400, 18974746, 18975833, 18979233, 18978868, 18973474, 18970847, 18970831, 18976664, 18975149, 18978059, 18982846, 18971656, 18971575, 18986789, 18973781, 18969143, 18967950, 18973187, 18973179, 18973095, 18977329, 18975360, 18972164, 18975047, 18974937, 18974614, 18976639, 18981054, 18974121, 18971587, 18973521, 18975687, 18969823, 18969306, 18969165, 18973439, 18969321, 18974148, 18981190, 18973009, 18977397, 18975759, 18970117, 18969279, 18968822, 18976013, 18977641, 18970863, 18977684, 18971897, 18990083, 18990452, 18989795, 18988256, 18986886, 18976548, 18968195, 18970018]<br />
</pre></p>
<p>Now let&#8217;s say that we wanted to get the stories for just the top 10</p>
<h3 class="file-heading"><em>request_top_10.py</em></h3>
<pre class="file">import requests

response = requests.get('https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty')

# Get top 10 ids
top_ten_ids = response.json()[:10]

print('Top ten ids:', top_ten_ids)

# Fetch top 10 stories

stories = []
for id in top_ten_ids:
  curr_story_api_url = 'https://hacker-news.firebaseio.com/v0/item/{}.json?print=pretty'.format(id)
  curr_story = requests.get(curr_story_api_url)
  stories.append(curr_story.json())

print('Top ten stories:', stories)
</pre>
<h3><b>Execute:</b></h3>
<pre class="instructions">python3 request_top_10.py</pre>
<h3><b>Output:</b></h3>
<pre class="sample">
<div class="sample_command">$ python3 request_top_10.py</div>
<p>Top ten ids: [18990469, 18992698, 18992930, 18989922, 18991404, 18989207, 18992914, 18991086, 18990444, 18992088]<br />
Top ten stories: [{&#8217;by&#8217;: &#8216;whatok&#8217;, &#8216;descendants&#8217;: 143, &#8216;id&#8217;: 18990469, &#8216;kids&#8217;: [18991099, 18990610, 18992360, 18990508, 18991097, 18990887, 18990789, 18993142, 18991546, 18992956, 18992061, 18991290, 18990631, 18991490, 18993183, 18991019, 18992539, 18993097, 18992600, 18991074, 18991169, 18991694, 18991049, 18992124, 18992472, 18990807, 18991597, 18991955, 18990716, 18990926, 18991119, 18991023, 18990863, 18991393, 18990808], &#8216;score&#8217;: 456, &#8216;time&#8217;: 1548349388, &#8216;title&#8217;: &#8216;Microsoft acquires Citus Data (YC S11)&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://blogs.microsoft.com/blog/2019/01/24/microsoft-acquires-citus-data-re-affirming-its-commitment-to-open-source-and-accelerating-azure-postgresql-performance-and-scale/&#8217;}, {&#8217;by&#8217;: &#8216;zawerf&#8217;, &#8216;descendants&#8217;: 56, &#8216;id&#8217;: 18992698, &#8216;kids&#8217;: [18993322, 18993016, 18993119, 18993049, 18992924, 18993095, 18993148, 18993126, 18993295, 18993290, 18993038, 18992992, 18992870, 18993073], &#8216;score&#8217;: 91, &#8216;time&#8217;: 1548362410, &#8216;title&#8217;: &#8216;AlphaStar: Mastering the Real-Time Strategy Game StarCraft II&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://deepmind.com/blog/alphastar-mastering-real-time-strategy-game-starcraft-ii/&#8217;}, {&#8217;by&#8217;: &#8216;covertress&#8217;, &#8216;descendants&#8217;: 6, &#8216;id&#8217;: 18992930, &#8216;kids&#8217;: [18993498, 18993133, 18993467, 18993231], &#8216;score&#8217;: 36, &#8216;time&#8217;: 1548363768, &#8216;title&#8217;: &#8216;Practical Guide to Hardening Linux&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://github.com/trimstray/the-practical-linux-hardening-guide&#8217;}, {&#8217;by&#8217;: &#8216;nkurz&#8217;, &#8216;descendants&#8217;: 76, &#8216;id&#8217;: 18989922, &#8216;kids&#8217;: [18990404, 18991147, 18991146, 18990482, 18991028, 18991347, 18993134, 18992638, 18990496, 18990525, 18990986, 18991310, 18990350, 18993034, 18990533], &#8216;score&#8217;: 291, &#8216;time&#8217;: 1548346371, &#8216;title&#8217;: &#8216;Google Search Operators: A Complete List (2018)&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://ahrefs.com/blog/google-advanced-search-operators/&#8217;}, {&#8217;by&#8217;: &#8216;acheron&#8217;, &#8216;descendants&#8217;: 41, &#8216;id&#8217;: 18991404, &#8216;kids&#8217;: [18992359, 18992583, 18992178, 18992946, 18992450, 18992379, 18992065, 18992594, 18992496, 18992669, 18992284, 18993147, 18992373], &#8216;score&#8217;: 95, &#8216;time&#8217;: 1548354423, &#8216;title&#8217;: &#8216;Movfuscator – Single instruction C compiler&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://github.com/xoreaxeaxeax/movfuscator&#8217;}, {&#8217;by&#8217;: &#8216;arcatek&#8217;, &#8216;descendants&#8217;: 186, &#8216;id&#8217;: 18989207, &#8216;kids&#8217;: [18990034, 18993429, 18990394, 18989879, 18990229, 18989654, 18989573, 18989610, 18990851, 18991961, 18989923, 18989968, 18990193, 18990336, 18990400, 18992020, 18989829, 18989998, 18990600], &#8216;score&#8217;: 270, &#8216;time&#8217;: 1548342055, &#8216;title&#8217;: &#8220;Yarn&#8217;s Future – v2 and beyond&#8221;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://github.com/yarnpkg/yarn/issues/6953&#8217;}, {&#8217;by&#8217;: &#8216;sama&#8217;, &#8216;descendants&#8217;: 92, &#8216;id&#8217;: 18992914, &#8216;kids&#8217;: [18993476, 18993106, 18993240, 18993206, 18993191, 18993527, 18993019, 18993395, 18993356, 18993398, 18993354, 18993443, 18993111, 18993096, 18993433, 18993091, 18993146, 18993407, 18993174, 18993350, 18993488, 18993381, 18993238, 18993098, 18993469, 18993424, 18993151, 18993379, 18993388, 18993155, 18993320, 18993347, 18993342, 18993093, 18993159, 18993242, 18993043, 18993084], &#8216;score&#8217;: 162, &#8216;time&#8217;: 1548363673, &#8216;title&#8217;: &#8216;How to Be Successful&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;http://blog.samaltman.com/how-to-be-successful&#8217;}, {&#8217;by&#8217;: &#8216;toufiqbarhamov&#8217;, &#8216;descendants&#8217;: 354, &#8216;id&#8217;: 18991086, &#8216;kids&#8217;: [18993399, 18992706, 18992433, 18991539, 18991349, 18991240, 18991331, 18993355, 18991619, 18991377, 18991692, 18992976, 18993032, 18992966, 18991263, 18992752, 18992032, 18992587, 18991409, 18991982, 18992352, 18991675, 18991766, 18991677], &#8216;score&#8217;: 290, &#8216;time&#8217;: 1548352727, &#8216;title&#8217;: &#8216;Nearly Half of Game Developers Want to Unionize&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://www.engadget.com/2019/01/24/nearly-half-of-game-developers-want-to-unionize/&#8217;}, {&#8217;by&#8217;: &#8216;chowyuncat&#8217;, &#8216;descendants&#8217;: 10, &#8216;id&#8217;: 18990444, &#8216;kids&#8217;: [18991735, 18992434, 18993309, 18991426, 18992325, 18991795], &#8216;score&#8217;: 90, &#8216;time&#8217;: 1548349219, &#8216;title&#8217;: &#8216;Evolution of the x86 context switch in Linux (2018)&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;http://www.maizure.org/projects/evolution_x86_context_switch_linux/&#8217;}, {&#8217;by&#8217;: &#8216;markwhiting&#8217;, &#8216;descendants&#8217;: 11, &#8216;id&#8217;: 18992088, &#8216;kids&#8217;: [18993245, 18993243], &#8216;score&#8217;: 28, &#8216;time&#8217;: 1548358437, &#8216;title&#8217;: &#8216;Office 365 is now on Mac App Store&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://www.apple.com/newsroom/2019/01/the-mac-app-store-welcomes-office-365/&#8217;}]<br />
</pre></p>
<h2>Coding exercise</h2>
<p>1. Fetch the titles of the top 50 stories of Hacker News</p>
<p>2. Get the top 5 comments of the top 10 stories of Hacker News</p>
<p>3. Run Sentiment Analysis on the top 5 comments of the top 10 stories in hacker news</p>
        <nav class="foot-navigation">
      <a href="lab_01.html">
      <svg version="1.1" width="36" height="36" viewBox="0 0 36 36" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"></path></svg>
      Previous
    </a>
  
      <a href="lab_03.html">
      <svg version="1.1" width="36" height="36" viewBox="0 0 36 36" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"></path></svg>
      Next
    </a>
  </nav>

      </div>
    </div>
  </body>
</html>
