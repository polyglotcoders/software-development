<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Lab 2 - Software Development</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 viewport-fit=cover"">
    <meta name="description" content="A guided tour thatintroduces students to building web applications">
    <meta name="theme-color" content="#0000ff">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" media="screen" href="reset.css">
    <link rel="stylesheet" media="screen" href="screen.css">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1142510-7']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <script type="text/javascript" src="UI.js"></script>
  </head>

  <body data-lab-id="2">
    <a href="#content" tabindex="1" class="skip-to-content">
      Skip to content
    </a>

    <div class="layout">
      <div id="index">
        <p class="link-home">
          <a href="index.html"><span>Software Development</span></a>
        </p>
        <button class="link-menu">Menu</button>
        <nav tabindex="0">
          <ol>
              <li id="lab_1_link"><a href="lab_01.html">Client-Server Model</a></li>
  <li id="lab_2_link"><a href="lab_02.html">API</a></li>
  <li id="lab_3_link"><a href="lab_03.html">Homework Assignment 04</a></li>
  <li id="lab_4_link"><a href="lab_04.html">REST</a></li>
  <li id="lab_5_link"><a href="lab_05.html">SQL</a></li>
  <li id="lab_6_link"><a href="lab_06.html">Client Side Programming</a></li>
  <li id="lab_7_link"><a href="lab_07.html">Node</a></li>
  <li id="lab_8_link"><a href="lab_08.html">React</a></li>

          </ol>
        </nav>
      </div>

      <div id="content" tabindex="-1">
        <h1 class="lab_title"><em>lab 2</em>  <span class="caps">API</span></h1>
<h2>Goals</h2>
<ul>
	<li>To understand what an <span class="caps">API</span> is</li>
	<li>Make <span class="caps">API</span> calls from the console</li>
	<li>Make <span class="caps">API</span> calls from python code</li>
</ul>
<h2>What is an <span class="caps">API</span>?</h2>
<p>An <span class="caps">API</span> is a software-to-software interface. Recall in class us talking about computers fetching information or data from another computer. In our case we might fetch the latest Tweets from Twitter&#8217;s <span class="caps">API</span>, or the latest posts in Reddit&#8217;s <span class="caps">API</span>.</p>
<h2>What is an endpoint?</h2>
<p>Just an <span class="caps">HTML</span> address that gives you access to data</p>
<p>Let&#8217;s install <a href="https://www.getpostman.com/">Postman</a></p>
<p>Now let&#8217;s first take a look at reddit&#8217;s <span class="caps">API</span> for a particular subreddit.</p>
<p>Go to <a href="https://www.reddit.com/r/ubc.json">https://www.reddit.com/r/ubc.json</a>. You&#8217;ll see that this gives us data for that particular subreddit. Now let&#8217;s use postman to fetch it.</p>
<h2>So what&#8217;s the point of all of this?</h2>
<p>Well, you&#8217;ll be running your sentiment analyzer on all the posts of a particular subreddit of your choice by fetching data for that subreddit. We&#8217;ll first be hardcoding it to return values, then we&#8217;ll start doing javascript to take in inputs</p>
<h2>So how do I make a request to fetch information?</h2>
<p>Let&#8217;s say we wanted to play around with <a href="https://github.com/HackerNews/API"> hacker news&#8217; <span class="caps">API</span> </a></p>
<p>Let&#8217;s get the top 10 story ids on Hacker News&#8217; <span class="caps">API</span></p>
<h3 class="file-heading"><em>request_json_ubc.py</em></h3>
<pre class="file">import requests

# Get top story ids on hacker news
response = requests.get('https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty')
print(response.json())
</pre>
<h3><b>Execute:</b></h3>
<pre class="instructions">python3 request_json_ubc.py</pre>
<h3><b>Output:</b></h3>
<pre class="sample">
<div class="sample_command">$ python3 request_json_ubc.py</div>
<p>[19438252, 19436885, 19437963, 19431444, 19437574, 19434192, 19420212, 19438480, 19437905, 19435631, 19437765, 19417079, 19421500, 19433344, 19435635, 19438052, 19430684, 19430487, 19424813, 19434966, 19438193, 19435854, 19437245, 19432953, 19437465, 19430840, 19433610, 19420284, 19437690, 19435791, 19432957, 19428032, 19431927, 19433883, 19433018, 19432702, 19430630, 19437150, 19425276, 19419295, 19432758, 19431005, 19429724, 19436857, 19424467, 19429887, 19428700, 19430971, 19429630, 19429193, 19430187, 19433496, 19425485, 19436412, 19421063, 19424041, 19423452, 19433825, 19434280, 19432563, 19430880, 19436845, 19426062, 19429719, 19436092, 19415735, 19423827, 19421119, 19428433, 19431436, 19432950, 19422833, 19429249, 19436177, 19434057, 19423539, 19418491, 19419567, 19432615, 19432788, 19427332, 19429522, 19434030, 19428278, 19429544, 19425589, 19425243, 19423806, 19424428, 19416159, 19428796, 19418224, 19433325, 19423036, 19418570, 19425844, 19433030, 19420532, 19436961, 19426186, 19423369, 19420408, 19436554, 19428066, 19431994, 19437612, 19413436, 19428353, 19430696, 19423770, 19433831, 19420454, 19428060, 19428475, 19420368, 19425637, 19425774, 19420557, 19423470, 19426573, 19419403, 19424106, 19425708, 19414511, 19428048, 19413786, 19424614, 19424311, 19431518, 19435932, 19422780, 19429590, 19431086, 19420977, 19429792, 19423434, 19422333, 19422342, 19428021, 19420834, 19416560, 19424802, 19418997, 19428794, 19423464, 19415983, 19416678, 19436737, 19436734, 19423228, 19425065, 19426570, 19422310, 19419886, 19426538, 19436540, 19422419, 19431412, 19425170, 19416485, 19423278, 19424914, 19419279, 19425693, 19411485, 19421166, 19423635, 19417619, 19422361, 19413195, 19430990, 19424145, 19432603, 19411336, 19413127, 19430291, 19417877, 19428380, 19414019, 19427075, 19413964, 19421815, 19419025, 19419451, 19432627, 19428208, 19418782, 19430773, 19421612, 19415484, 19424372, 19419486, 19412084, 19421227, 19429857, 19420590, 19429829, 19435461, 19418218, 19435307, 19412911, 19418543, 19426660, 19421697, 19429318, 19415362, 19409367, 19412667, 19414775, 19413469, 19426104, 19413271, 19420628, 19431091, 19418770, 19421698, 19413262, 19437239, 19415765, 19415445, 19421032, 19430488, 19433113, 19424762, 19421904, 19431736, 19422749, 19432785, 19418101, 19422671, 19434173, 19415186, 19413214, 19421791, 19413634, 19411797, 19428391, 19427743, 19415973, 19413569, 19410111, 19413159, 19414092, 19417561, 19411731, 19415066, 19436553, 19410233, 19420952, 19420971, 19423288, 19414275, 19413454, 19419748, 19430999, 19420846, 19417640, 19423298, 19412478, 19432299, 19419825, 19432192, 19427598, 19421486, 19421301, 19432016, 19431953, 19424204, 19409611, 19416085, 19413444, 19413027, 19414733, 19411641, 19425318, 19411159, 19420141, 19416094, 19417241, 19436032, 19421988, 19412420, 19413348, 19421732, 19422281, 19421467, 19409902, 19411732, 19414591, 19421476, 19425153, 19424625, 19408810, 19416584, 19430579, 19426701, 19427774, 19409618, 19416295, 19409975, 19425476, 19410972, 19409584, 19416032, 19423578, 19411799, 19413852, 19426067, 19423116, 19417797, 19422383, 19414087, 19425848, 19410187, 19414627, 19429115, 19415001, 19408597, 19413901, 19413448, 19412088, 19416167, 19427554, 19421829, 19414164, 19423559, 19421516, 19410659, 19427411, 19412301, 19416740, 19423115, 19420810, 19429611, 19411998, 19413727, 19429550, 19414278, 19408882, 19426704, 19422919, 19424161, 19425349, 19411961, 19429200, 19429175, 19411927, 19419732, 19409014, 19414205, 19409429, 19429109, 19408875, 19418701, 19427450, 19408731, 19424915, 19424350, 19424248, 19418617, 19418597, 19427325, 19417757, 19427178, 19427148, 19425423, 19408866, 19414270, 19422587, 19413637, 19424490, 19424066, 19422186, 19426405, 19417483, 19424734, 19421303, 19426221, 19410536, 19414414, 19421653, 19409907, 19417110, 19427931, 19415887, 19417327, 19411548, 19416596, 19413193, 19416879, 19409046, 19413288, 19413600, 19411648, 19423136, 19425355, 19412778, 19415427, 19411513, 19408847, 19418142, 19430775, 19423049, 19421030, 19411777, 19426012, 19422028, 19418672, 19436074, 19409391, 19412853, 19418775, 19409080, 19425112, 19421155, 19421077, 19417229, 19424414, 19420515, 19426019, 19424029, 19423950, 19411863, 19423581, 19423324, 19423286, 19417030, 19423187, 19423033, 19412694, 19408576, 19435286, 19413189, 19418980, 19410683, 19423147, 19410735, 19421920, 19417970, 19415941, 19417336, 19410981, 19416897, 19411669, 19413142, 19417827, 19411572, 19417634, 19417631, 19417143, 19428782, 19412394, 19418823, 19423671, 19413339, 19411713, 19412750, 19408777, 19415309, 19412307, 19417445, 19411252, 19412978, 19412800, 19415679, 19418863, 19414548, 19411971, 19408742, 19414372, 19411459, 19409625, 19412943, 19412700, 19408572, 19411153, 19410349, 19409181, 19414057, 19409513, 19437924, 19409244, 19429881, 19409469, 19410928, 19418244, 19427204, 19430663, 19415599, 19408735, 19427053, 19421357, 19422195, 19428102, 19425046, 19432362, 19410510, 19412295, 19425252]<br />
</pre></p>
<p>Now let&#8217;s say that we wanted to get the stories for just the top 10</p>
<h3 class="file-heading"><em>request_top_10.py</em></h3>
<pre class="file">import requests

response = requests.get('https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty')

# Get top 10 ids
top_ten_ids = response.json()[:10]

print('Top ten ids:', top_ten_ids)

# Fetch top 10 stories

stories = []
for id in top_ten_ids:
  curr_story_api_url = 'https://hacker-news.firebaseio.com/v0/item/{}.json?print=pretty'.format(id)
  curr_story = requests.get(curr_story_api_url)
  stories.append(curr_story.json())

print('Top ten stories:', stories)
</pre>
<h3><b>Execute:</b></h3>
<pre class="instructions">python3 request_top_10.py</pre>
<h3><b>Output:</b></h3>
<pre class="sample">
<div class="sample_command">$ python3 request_top_10.py</div>
<p>Top ten ids: [19438252, 19436885, 19437963, 19431444, 19437574, 19434192, 19420212, 19438480, 19437905, 19435631]<br />
Top ten stories: [{&#8217;by&#8217;: &#8216;jseliger&#8217;, &#8216;descendants&#8217;: 3, &#8216;id&#8217;: 19438252, &#8216;kids&#8217;: <sup class="footnote" id="fnr19438533"><a href="#fn19438533">19438533</a></sup>, &#8216;score&#8217;: 25, &#8216;time&#8217;: 1553047833, &#8216;title&#8217;: &#8220;Forget Tesla, It&#8217;s China&#8217;s E-Buses That Are Denting Oil Demand&#8221;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://www.bloomberg.com/news/articles/2019-03-19/forget-tesla-it-s-china-s-e-buses-that-are-denting-oil-demand&#8217;}, {&#8217;by&#8217;: &#8216;grantlmiller&#8217;, &#8216;descendants&#8217;: 52, &#8216;id&#8217;: 19436885, &#8216;kids&#8217;: [19438561, 19438081, 19437847, 19438513, 19438232, 19437400, 19437345, 19437535, 19437513, 19437364, 19438033, 19438485, 19437695, 19437943, 19437838, 19437818, 19437330, 19437824, 19438235, 19438192, 19437370, 19437380, 19437649, 19437985], &#8216;score&#8217;: 176, &#8216;time&#8217;: 1553035466, &#8216;title&#8217;: &#8216;Producing industrial hydrogen from biomass&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://www.charmindustrial.com/blog/2019/3/17/making-grass-flow-like-water&#8217;}, {&#8217;by&#8217;: &#8216;4d66ba06&#8217;, &#8216;descendants&#8217;: 17, &#8216;id&#8217;: 19437963, &#8216;kids&#8217;: [19438462, 19438282, 19438351, 19438426, 19438376, 19438451, 19438408], &#8216;score&#8217;: 34, &#8216;time&#8217;: 1553044669, &#8216;title&#8217;: &#8216;Volk Fi: Distributed network smartphone&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://volkfi.com/&#8217;}, {&#8217;by&#8217;: &#8216;collinmanderson&#8217;, &#8216;descendants&#8217;: 338, &#8216;id&#8217;: 19431444, &#8216;kids&#8217;: [19433394, 19432569, 19434017, 19438518, 19432149, 19432722, 19432432, 19432755, 19433702, 19432323, 19432803, 19437416, 19432242, 19432229, 19433411, 19436622, 19435188, 19431448, 19437801, 19434259, 19433389, 19437184, 19437982, 19437589, 19436985, 19432548, 19435654, 19436134, 19436867, 19435776, 19434527, 19435479, 19433541, 19433736, 19432911, 19434195, 19434336, 19433413, 19437812, 19433274, 19433034, 19435689, 19437039, 19437258, 19435115, 19434621, 19433662, 19434608, 19433768, 19432652, 19434761, 19433977, 19432464, 19434600, 19433647, 19436717, 19436593, 19432410, 19434463, 19433190, 19435404, 19432500, 19432400, 19434522, 19435101, 19437517, 19435428, 19433163, 19436302, 19432199, 19435920, 19435598, 19434413, 19434279, 19433579, 19434807, 19433641, 19432558], &#8216;score&#8217;: 575, &#8216;time&#8217;: 1553007880, &#8216;title&#8217;: &#8216;Open Source Doesn’t Make Money Because It Isn’t Designed to Make Money&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;http://www.ianbicking.org/blog/2019/03/open-source-doesnt-make-money-by-design.html&#8217;}, {&#8217;by&#8217;: &#8216;erict15&#8217;, &#8216;descendants&#8217;: 115, &#8216;id&#8217;: 19437574, &#8216;kids&#8217;: [19438347, 19437893, 19438085, 19437908, 19437829, 19437888, 19437836, 19437784, 19438006, 19437869, 19437791, 19437833, 19438221], &#8216;score&#8217;: 129, &#8216;time&#8217;: 1553040995, &#8216;title&#8217;: &#8216;Pilot Who Hitched a Ride Saved Lion Air 737 on the Day Before Deadly Crash&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://www.bloomberg.com/news/articles/2019-03-19/how-an-extra-man-in-cockpit-saved-a-737-max-that-later-crashed&#8217;}, {&#8217;by&#8217;: &#8216;dyukqu&#8217;, &#8216;descendants&#8217;: 28, &#8216;id&#8217;: 19434192, &#8216;kids&#8217;: [19435098, 19435058, 19437676, 19437650, 19437202, 19436592], &#8216;score&#8217;: 163, &#8216;time&#8217;: 1553021241, &#8216;title&#8217;: &#8216;MS TextWorld: open-source engine that both generates and simulates text games&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://www.microsoft.com/en-us/research/project/textworld/&#8217;}, {&#8217;by&#8217;: &#8216;colinprince&#8217;, &#8216;descendants&#8217;: 82, &#8216;id&#8217;: 19420212, &#8216;kids&#8217;: [19434728, 19437036, 19435219, 19434508, 19434626, 19434398, 19435415, 19435271, 19437082, 19437761, 19434602, 19434143, 19437187, 19435040, 19435285, 19434813, 19434843, 19434263, 19436179, 19438111], &#8216;score&#8217;: 212, &#8216;time&#8217;: 1552908542, &#8216;title&#8217;: &#8216;Pixelfed – An alternative to centralized image sharing platforms&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://pixelfed.social/site/about&#8217;}, {&#8217;by&#8217;: &#8216;romming&#8217;, &#8216;id&#8217;: 19438480, &#8216;score&#8217;: 1, &#8216;text&#8217;: &#8216;<span class="caps">ACCOUNT</span> <span class="caps">EXECUTIVE</span><p>We are looking for an entrepreneurial account executive to join our sales organization and help change the way organizations build data warehouses and lakes in the cloud. The account executive will work directly with the <span class="caps">CEO</span>, and help close new business for Etleap by running the complete sales cycle for\nnew deals.<p>About Us<p>Etleap came to be out of the frustration with how much effort it takes to build and maintain data pipelines for analytics. We’ve created an intuitive <span class="caps">ETL</span> tool that enables organizations to reduce engineering cost and time to value when building data warehouses and lakes in the cloud. Unlike legacy <span class="caps">ETL</span> solutions,\nEtleap is cloud-native and doesn’t take coding skills to set up, maintain, or scale.<p>We have grown quickly since our public launch in 2016, and we’re ready to accelerate our growth further and move into new verticals. <span class="caps">ETL</span> is a $5B market today, and it’s growing quickly over the next few years.<p>Responsibilities<p>● Expand sales by helping grow new revenue in 2019<p>● Source, negotiate, and close all deals for Etleap by working closely with our <span class="caps">CEO</span><p>● Establish effective outbound prospecting process, and handle leads generated by the marketing\nteam<p>Competencies<p>● 2+ years of previous sales experience in the data or analytics space closing complex, enterprise SaaS contracts<p>● Entrepreneurial mindset. We’re building a new kind of product, and you’ll stay close to the product team and help define new product features based on customer conversations<p>● Curiosity and empathy. Understanding the customer needs at a deep level is key both for qualifying prospects and successfully selling our product<p>● Grit and persistence. You are not fazed by long sales cycles and follow through on commitments<p>● Competitiveness. You are coachable, efficient, and want to win<p>Perks<p>● Health benefits- medical, dental and vision<p>● Unlimited vacation<p>● Standing desks<p>● Daily catered lunches<p>● Beautiful modern office, one block away from AT&amp;T Park&#8217;, &#8216;time&#8217;: 1553050486, &#8216;title&#8217;: &#8216;Etleap Is Hiring an Account Executive (SF or NY)&#8217;, &#8216;type&#8217;: &#8217;job&#8217;}, {&#8217;by&#8217;: &#8216;gwbas1c&#8217;, &#8216;descendants&#8217;: 0, &#8216;id&#8217;: 19437905, &#8216;score&#8217;: 7, &#8216;time&#8217;: 1553044095, &#8216;title&#8217;: &#8216;Just a Drop in the Bucket (1994)&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://milk.com/wall-o-shame/bucket.html&#8217;}, {&#8217;by&#8217;: &#8216;ausjke&#8217;, &#8216;descendants&#8217;: 103, &#8216;id&#8217;: 19435631, &#8216;kids&#8217;: [19438542, 19437071, 19436613, 19436140, 19436733, 19436948, 19436396, 19436685, 19436069, 19436677, 19436059, 19436259, 19437308, 19435872, 19437117, 19436101, 19436071, 19437945, 19436130, 19437584, 19437557, 19436652, 19437350], &#8216;score&#8217;: 141, &#8216;time&#8217;: 1553028288, &#8216;title&#8217;: &#8216;How to take back control of /etc/resolv.conf on Linux&#8217;, &#8216;type&#8217;: &#8216;story&#8217;, &#8216;url&#8217;: &#8216;https://www.ctrl.blog/entry/resolvconf-tutorial&#8217;}]<br />
</pre></p>
<h2>Coding exercise</h2>
<p>1. Fetch the titles of the top 50 stories of Hacker News</p>
<p>2. Get the top 5 comments of the top 10 stories of Hacker News</p>
<p>3. Run Sentiment Analysis on the top 5 comments of the top 10 stories in hacker news</p>
        <nav class="foot-navigation">
      <a href="lab_01.html">
      <svg version="1.1" width="36" height="36" viewBox="0 0 36 36" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"></path></svg>
      Previous
    </a>
  
      <a href="lab_03.html">
      <svg version="1.1" width="36" height="36" viewBox="0 0 36 36" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"></path></svg>
      Next
    </a>
  </nav>

      </div>
    </div>
  </body>
</html>
